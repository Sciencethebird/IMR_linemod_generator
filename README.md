IMR Linemod Dataset Generator
===

## About this project

This project processes the raw data collected by the IMR_autocollector into Linemod dataset format


## How to run


		
we use docker to run dataset generator
 
1. start docker
```sh
. start_docker.sh
```
2. put the data generated by the auto-collector under /input 
3. start docker shell
```sh
. docker_shell.sh 
```
4. on docker shell, run
```sh
cd work
. run_generator.sh <your_input_data_folder_name>
```
- output data can be found under /output
5. run point cloud mapping test to validate the generated dataset
```sh
. point_mapping_validation.sh <your_output_data_folder_name>
```
## Code Explained
* ### Purpose of each python script
1. main_generator.py
    - calculate object-to-camera extrinsic from camera coordinate and object coordinate
    - generate binary mask of each object from raw mask image
    - generate train.txt and test.txt
    - here's the code
		```python
		test = linemod_dataset_generator( input_folder_name  = args.input_folder_name,
		                                    output_folder_name = args.input_folder_name+"_output")
		# generates ground truth yml
		test.gt_info_generator(args.intrinsics)
		# generates images
		test.image_generator()
		# generates test-train script, also filters out bad images with mask pixel under ceratin threshold
		test.test_train_script_generator(2200)
		```
2. lib/utils.py
    - including various camera related transformation functions and point cloud mapping functions

###### tags: `GAZEBO` `ROS` `IMR` `Documentation`
